I"ñx<h3 id="a">A</h3>
<ol>
  <li>
    <p>å†…è”å‡½æ•°ï¼šä¸€èˆ¬åœ¨æ¯”è¾ƒå°çš„æ–¹æ³•ä¸Šï¼Œä»¥åŠé¢‘ç¹ä½¿ç”¨çš„æ–¹æ³•ä¸Šä½¿ç”¨ï¼Œè€Œä¸ä¼šéšæ„ä½¿ç”¨ã€‚</p>
  </li>
  <li>
    <p>è®¿é—®ä¿®é¥°ç¬¦ï¼šinternal ==&gt; æ¨¡å—å†…å¯è®¿é—®ä¿®é¥°ç¬¦ï¼Œä½†åœ¨ java ä¸­ï¼Œä¼šè¢«ç›´æ¥å½“ä½œ public ä½¿ç”¨çš„ã€‚</p>

    <p>é»‘ç§‘æŠ€ï¼š</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c1">// åœ¨kotlinä¸­æ˜¯åˆæ³•çš„</span>
<span class="k">fun</span> <span class="err">`1234`(){//æ˜¯æ— æ³•å…¼å®¹</span> <span class="nf">Java</span> <span class="err">çš„</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"function 1234"</span><span class="p">)</span>
<span class="p">}</span>
   
<span class="c1">//åœ¨ kotlin ä¸­å¯ä»¥è°ƒç”¨</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="err">`</span><span class="m">1234</span><span class="err">`</span><span class="p">()</span>
<span class="p">}</span>
   
<span class="c1">// åœ¨Javaä¸­ä¸èƒ½è°ƒç”¨</span>
<span class="k">public</span> <span class="n">void</span> <span class="nf">test</span><span class="p">()</span> <span class="p">{</span>
	<span class="m">1234</span><span class="p">();</span><span class="c1">//ERROR: ä¸åˆæ³•è°ƒç”¨</span>
	<span class="err">`</span><span class="m">1234</span><span class="err">`</span><span class="p">();</span><span class="c1">//ERROR: ä¸åˆæ³•è°ƒç”¨</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>å•ä¾‹ï¼šé™¤äº† object æ¥å£°æ˜å•ä¾‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¼´ç”Ÿå¯¹è±¡æ¥å®ç°ï¼š</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Single</span> <span class="k">private</span> <span class="k">constructor</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">companion</span> <span class="k">object</span> <span class="p">{</span>
		<span class="k">fun</span> <span class="nf">get</span><span class="p">():</span> <span class="nc">Single</span> <span class="p">{</span>
			<span class="k">return</span> <span class="nc">Holder</span><span class="p">.</span><span class="n">instance</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">private</span> <span class="kd">object</span> <span class="nc">Holder</span> <span class="p">{</span>
		<span class="kd">val</span> <span class="py">instance</span> <span class="p">=</span> <span class="nc">Single</span><span class="p">()</span>
	<span class="p">}</span>
<span class="p">}</span>
   
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
	<span class="kd">val</span> <span class="py">single</span> <span class="p">=</span> <span class="nc">Single</span><span class="p">.</span><span class="k">get</span><span class="p">()</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>ä¼´ç”Ÿå¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸º åŒ¿åå†…éƒ¨å•ä¾‹ã€‚</p>
  </li>
  <li>
    <p>åŠ¨æ€ä»£ç†ï¼šä½¿ç”¨ by å…³é”®å­—å°±å¯ä»¥å®ç°ï¼Œå‚è€ƒï¼š<a href="https://time.geekbang.org/course/detail/105-10673">æå®¢æ—¶é—´ â€“ Kotlin</a>ã€‚ Kotlinçš„åŠ¨æ€ä»£ç†ä¼šåœ¨ç¼–è¯‘ä»¥åè½¬æ¢æˆé™æ€ä»£ç†å»è°ƒç”¨ï¼Œæ‰€ä»¥æ¯”Javaé€šè¿‡åå°„çš„æ–¹å¼æ•ˆç‡è¦é«˜ã€‚</p>

    <p>â“ç©¶ç«Ÿä½•ä¸ºåŠ¨æ€ä»£ç†ï¼Œå¦‚ä½•ä½¿ç”¨KotlinåŠ¨æ€ä»£ç†å®ç° Retrofitâ“</p>
  </li>
  <li>
    <p>â—ï¸â—ï¸â—ï¸å¯†é—­ç±»å®Œå…¨å¯ä»¥ä»£æ›¿æšä¸¾ç±»ï¼Œå¹¶ä¸”å®ç°<strong><em>æ›´å¤šçš„æ‰©å±•</em></strong>ï¼Œæ¯”å¦‚</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">sealed</span> <span class="kd">class</span> <span class="nc">SuperCommand</span> <span class="p">{</span>
    <span class="kd">object</span> <span class="nc">UP</span> <span class="p">:</span> <span class="nc">SuperCommand</span><span class="p">()</span>
    <span class="kd">object</span> <span class="nc">LEFT</span> <span class="p">:</span> <span class="nc">SuperCommand</span><span class="p">()</span>
    <span class="kd">object</span> <span class="nc">RIGHT</span> <span class="p">:</span> <span class="nc">SuperCommand</span><span class="p">()</span>
    <span class="kd">object</span> <span class="nc">DOWN</span> <span class="p">:</span> <span class="nc">SuperCommand</span><span class="p">()</span>
    <span class="kd">class</span> <span class="nc">SPEED</span><span class="p">(</span><span class="kd">var</span> <span class="py">speed</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">:</span> <span class="nc">SuperCommand</span><span class="p">()</span>
<span class="p">}</span>
   
<span class="k">fun</span> <span class="nf">exec</span><span class="p">(</span><span class="n">tank</span><span class="p">:</span> <span class="nc">Tank</span><span class="p">,</span> <span class="n">superCommand</span><span class="p">:</span> <span class="nc">SuperCommand</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">when</span> <span class="p">(</span><span class="n">superCommand</span><span class="p">)</span> <span class="p">{</span>
        <span class="nc">SuperCommand</span><span class="p">.</span><span class="nc">UP</span> <span class="p">-&gt;</span> <span class="n">tank</span><span class="p">.</span><span class="nf">turnUp</span><span class="p">()</span>
        <span class="nc">SuperCommand</span><span class="p">.</span><span class="nc">LEFT</span> <span class="p">-&gt;</span> <span class="n">tank</span><span class="p">.</span><span class="nf">turnLeft</span><span class="p">()</span>
        <span class="nc">SuperCommand</span><span class="p">.</span><span class="nc">RIGHT</span> <span class="p">-&gt;</span> <span class="n">tank</span><span class="p">.</span><span class="nf">turnRight</span><span class="p">()</span>
        <span class="nc">SuperCommand</span><span class="p">.</span><span class="nc">DOWN</span> <span class="p">-&gt;</span> <span class="n">tank</span><span class="p">.</span><span class="nf">turnDown</span><span class="p">()</span>
        <span class="k">is</span> <span class="nc">SuperCommand</span><span class="p">.</span><span class="nc">SPEED</span> <span class="p">-&gt;</span> <span class="n">tank</span><span class="p">.</span><span class="nf">speed</span><span class="p">(</span><span class="n">superCommand</span><span class="p">.</span><span class="n">speed</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>è§£æ„ï¼šè‡ªåŠ¨å°†ä¸€ä¸ªå¯¹è±¡æ‹†è§£æˆè‹¥å¹²ä¸ªå˜é‡åˆ†åˆ«èµ‹å€¼</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">User</span><span class="p">(</span><span class="k">private</span> <span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="k">private</span> <span class="kd">val</span> <span class="py">age</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">operator</span> <span class="k">fun</span> <span class="nf">component1</span><span class="p">()</span> <span class="p">=</span> <span class="n">age</span>
    <span class="k">operator</span> <span class="k">fun</span> <span class="nf">component2</span><span class="p">()</span> <span class="p">=</span> <span class="n">name</span>
<span class="p">}</span>
   
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">user</span> <span class="p">=</span> <span class="nc">User</span><span class="p">(</span><span class="s">"Hurshi"</span><span class="p">,</span> <span class="m">18</span><span class="p">)</span>
    <span class="kd">val</span> <span class="p">(</span><span class="py">name</span><span class="p">,</span> <span class="py">age</span><span class="p">)</span> <span class="p">=</span> <span class="n">user</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"name = $name"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"age = $age"</span><span class="p">)</span>
<span class="p">}</span>
   
<span class="c1">//å¸¸ç”¨åœºæ™¯:</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">map</span> <span class="p">=</span> <span class="n">mapOf</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">,</span><span class="nc">String</span><span class="p">&gt;(</span><span class="s">"name"</span> <span class="n">to</span> <span class="s">"Hurshi"</span><span class="p">,</span><span class="s">"age"</span> <span class="n">to</span> <span class="s">"18"</span><span class="p">)</span>
    <span class="k">for</span><span class="p">((</span><span class="n">key</span><span class="p">,</span><span class="n">value</span><span class="p">)</span> <span class="k">in</span> <span class="n">map</span><span class="p">){</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"key = $key ,value = $value"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>å¾ªç¯ï¼š</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">1</span><span class="o">..</span><span class="m">10</span><span class="p">)</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">}</span>
<span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">1</span> <span class="n">until</span> <span class="m">10</span><span class="p">)</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">}</span>
<span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">10</span> <span class="n">downTo</span> <span class="m">1</span><span class="p">)</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">}</span>
<span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">1</span><span class="o">..</span><span class="m">10</span> <span class="n">step</span> <span class="m">2</span><span class="p">)</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="p">}</span>
<span class="nf">repeat</span><span class="p">(</span><span class="m">10</span><span class="p">)</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">}</span>
   
<span class="c1">//å¾ªç¯ list with index</span>
<span class="n">list</span><span class="p">.</span><span class="nf">forEachIndexed</span> <span class="p">{</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="p">-&gt;</span> <span class="nf">println</span><span class="p">(</span><span class="s">"[$index,$value]"</span><span class="p">)</span> <span class="p">}</span>
<span class="k">for</span> <span class="p">((</span><span class="n">index</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="k">in</span> <span class="n">list</span><span class="p">.</span><span class="nf">withIndex</span><span class="p">())</span> <span class="p">{</span>
  <span class="nf">println</span><span class="p">(</span><span class="s">"[$index,$value]"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>ä½œç”¨åŸŸå‡½æ•°</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="kd">val</span> <span class="py">letResult</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="n">user</span><span class="p">.</span><span class="nf">let</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">name</span> <span class="p">}</span>
<span class="kd">val</span> <span class="py">runResult</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="n">user</span><span class="p">.</span><span class="nf">run</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="n">name</span> <span class="p">}</span>
   
<span class="kd">val</span> <span class="py">alsoResult</span><span class="p">:</span> <span class="nc">User</span> <span class="p">=</span> <span class="n">user</span><span class="p">.</span><span class="nf">also</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">name</span> <span class="p">}</span>
<span class="kd">val</span> <span class="py">applyResult</span><span class="p">:</span> <span class="nc">User</span> <span class="p">=</span> <span class="n">user</span><span class="p">.</span><span class="nf">apply</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="n">name</span> <span class="p">}</span>
   
<span class="n">user</span><span class="p">.</span><span class="nf">takeIf</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">name</span><span class="p">.</span><span class="nf">isNotEmpty</span><span class="p">()</span> <span class="p">}</span><span class="o">?.</span><span class="nf">also</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="n">it</span><span class="p">.</span><span class="n">name</span><span class="p">)</span> <span class="p">}</span>
   
<span class="nf">with</span><span class="p">(</span><span class="n">user</span><span class="p">){</span>
  <span class="k">this</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">"haha"</span>
  <span class="k">this</span><span class="p">.</span><span class="n">age</span> <span class="p">=</span> <span class="m">18</span>
  <span class="k">this</span><span class="p">.</span><span class="n">phone</span> <span class="p">=</span> <span class="m">111111</span>
<span class="p">}</span>
<span class="c1">// with å¯ä»¥æ›¿æ¢ä¸ºï¼š</span>
<span class="c1">// user.let { </span>
<span class="c1">//   it.name = "haha"</span>
<span class="c1">//   it.age = 18</span>
<span class="c1">//   it.phone = 111111</span>
<span class="c1">// }</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>ä¸­ç¼€è¡¨è¾¾å¼ï¼ˆæ‰©å±•å‡½æ•°ï¼‰</p>

    <p>ä½¿ç”¨ <code class="highlighter-rouge">infix</code> æ¥æ‰©å±•å‡½æ•°ï¼Œæ¯”å¦‚è‡ªå®šä¹‰ä¸€ä¸ª vs çš„ä¸­ç¼€è¡¨è¾¾å¼ï¼š</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">infix</span> <span class="k">fun</span> <span class="nc">Int</span><span class="p">.</span><span class="nf">vs</span><span class="p">(</span><span class="n">num</span><span class="p">:</span><span class="nc">Int</span><span class="p">):</span><span class="nc">Int</span><span class="p">{</span>
    <span class="k">return</span> <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">&lt;</span><span class="n">num</span><span class="p">)-</span><span class="m">1</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">&gt;</span><span class="n">num</span><span class="p">)</span> <span class="m">1</span> <span class="k">else</span> <span class="m">0</span>
<span class="p">}</span>
   
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
  <span class="nf">println</span><span class="p">(</span><span class="m">100</span> <span class="n">vs</span> <span class="m">90</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">javap [option] *.class</code> å‘½ä»¤ï¼Œåç¼–è¯‘ä¸€ä¸ª class æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼š</p>
  </li>
</ol>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  javap <span class="nt">-c</span> main.class
</pre></td></tr></tbody></table></code></pre></div></div>

<ol>
  <li>
    <p>val å˜é‡å¹¶ä¸æ˜¯å¸¸é‡ï¼Œæ¯”å¦‚ï¼š</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Person</span><span class="p">(</span><span class="kd">val</span> <span class="py">birthYear</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">currentYear</span> <span class="p">=</span> <span class="m">2019</span>
    <span class="kd">val</span> <span class="py">age</span><span class="p">:</span> <span class="nc">Int</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">currentYear</span> <span class="p">-</span> <span class="n">birthYear</span>
<span class="p">}</span>
    
<span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">person</span> <span class="p">=</span> <span class="nc">Person</span><span class="p">(</span><span class="m">1990</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">age</span><span class="p">)</span>
    <span class="n">person</span><span class="p">.</span><span class="n">currentYear</span> <span class="p">=</span> <span class="m">2020</span>
    <span class="nf">println</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">age</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>å¦‚ä½•çœŸæ­£çš„å£°æ˜ä¸€ä¸ªå¸¸é‡ï¼Ÿ</p>

    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">const</span> <span class="kd">val</span> <span class="py">a</span> <span class="p">=</span> <span class="m">0</span> <span class="c1">//const å˜é‡çš„å€¼å¿…é¡»åœ¨ç¼–è¯‘æœŸé—´ç¡®å®šä¸‹æ¥</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>ç©ºå®‰å…¨ï¼š</p>

    <ol>
      <li>å±€éƒ¨å˜é‡å¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡æ¨æ–­ï¼Œæ¥é¿å…å¤šæ¬¡åˆ¤ç©ºã€‚</li>
    </ol>
  </li>
  <li>
    <p>å†…è”å‡½æ•°</p>

    <ol>
      <li>
        <p>å†…è”å‡½æ•°å¯ä»¥ä¸­æ–­å¤–éƒ¨è°ƒç”¨çš„ã€‚</p>

        <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">fun</span> <span class="nf">test</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">inlineTest</span> <span class="p">{</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"hello1"</span><span class="p">)</span>
        <span class="k">return</span>
      	<span class="nf">println</span><span class="p">(</span><span class="s">"hello2"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"hello3"</span><span class="p">)</span>
<span class="p">}</span>
       
<span class="k">private</span> <span class="k">inline</span> <span class="k">fun</span> <span class="nf">inlineTest</span><span class="p">(</span><span class="n">l</span><span class="p">:</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="nc">Unit</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">l</span><span class="p">.</span><span class="nf">invoke</span><span class="p">()</span>
    <span class="k">return</span>
<span class="p">}</span>
       
<span class="c1">// è¾“å‡ºï¼š </span>
<span class="c1">// hello1</span>
</pre></td></tr></tbody></table></code></pre></div>        </div>
      </li>
      <li>
        <p>ä½¿ç”¨ <code class="highlighter-rouge">crossinline</code>ä¸å…è®¸ inline çš„ Lambda ä¸­æ–­å¤–éƒ¨å‡½æ•°çš„æ‰§è¡Œã€‚</p>

        <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="k">fun</span> <span class="nf">test</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">inlineTest</span> <span class="p">{</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"hello1"</span><span class="p">)</span>
        <span class="k">return</span><span class="err">@</span><span class="n">inlineTest</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"hello2"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"hello3"</span><span class="p">)</span>
<span class="p">}</span>
       
<span class="k">private</span> <span class="k">inline</span> <span class="k">fun</span> <span class="nf">inlineTest</span><span class="p">(</span><span class="k">crossinline</span> <span class="n">l</span><span class="p">:</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="nc">Unit</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">l</span><span class="p">.</span><span class="nf">invoke</span><span class="p">()</span>
    <span class="k">return</span>
<span class="p">}</span>
<span class="c1">//è¾“å‡ºï¼š</span>
<span class="c1">//hello1</span>
<span class="c1">//hello3</span>
</pre></td></tr></tbody></table></code></pre></div>        </div>
      </li>
      <li>
        <p>ä½¿ç”¨ <code class="highlighter-rouge">noinline</code> æ‹’ç»å†…è”ã€‚</p>
      </li>
    </ol>
  </li>
  <li>
    <p>æ³›å‹ï¼š</p>

    <ol>
      <li>
        <p>å¯ä»¥æŒ‡å®šå¤šä¸ªçº¦æŸæ¡ä»¶ï¼Œæ¯”å¦‚</p>

        <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c1">//è¦æ±‚ T åŒæ—¶å®ç°äº† Callback å’Œ Runnable æ¥å£</span>
<span class="kd">class</span> <span class="nc">Test</span><span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="k">where</span> <span class="nc">T</span>  <span class="p">:</span> <span class="nc">Callback</span><span class="p">,</span> <span class="nc">T</span> <span class="p">:</span> <span class="nc">Runnable</span> <span class="p">{}</span>
</pre></td></tr></tbody></table></code></pre></div>        </div>
      </li>
      <li>
        <p>çœŸæ³›å‹ï¼š</p>

        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c1">// java çš„ fromJson:</span>
<span class="kd">public</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="no">T</span> <span class="nf">fromJson</span><span class="o">(</span><span class="nc">String</span> <span class="n">json</span><span class="o">,</span> <span class="nc">Class</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">classOfT</span><span class="o">)</span> <span class="k">throw</span> <span class="nc">Json</span><span class="o">...</span><span class="na">Exception</span><span class="o">{}</span>
</pre></td></tr></tbody></table></code></pre></div>        </div>

        <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c1">// Kotlin çš„ fromJson:</span>
<span class="k">inline</span> <span class="k">fun</span> <span class="p">&lt;</span><span class="err">reified</span> <span class="nc">T</span><span class="p">&gt;</span> <span class="nc">Gson</span><span class="p">.</span><span class="nf">fromJson</span><span class="p">(</span><span class="n">json</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">T</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nf">fromJson</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="nc">T</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>        </div>
      </li>
      <li>
        <p><code class="highlighter-rouge">out / in</code>ï¼šç›¸å½“äº java ä¸­çš„ <code class="highlighter-rouge">&lt;? extends Class&gt;</code> / <code class="highlighter-rouge">&lt;? super Class&gt;</code>ï¼Œç†è§£ä¸ºï¼š</p>

        <ol>
          <li>outï¼šåªè¯»ä¸å¯å†™ã€‚</li>
          <li>inï¼šåªå†™ä¸å¯è¯»ã€‚</li>
        </ol>
      </li>
      <li>
        <p>ç±»å‹æ“¦é™¤/ç±»å‹å®‰å…¨ ï¼Ÿï¼Ÿï¼Ÿ</p>
      </li>
      <li>
        <p>è¡¥å……çŸ¥è¯†ï¼šåœ¨ Java ä¸­ï¼Œä½¿ç”¨ <code class="highlighter-rouge">? extends</code>å®šä¹‰çš„æ¯”å¦‚<code class="highlighter-rouge">List&lt;? extends ClassA&gt; list</code>æ˜¯ä¸èƒ½è¢«ä¿®æ”¹çš„ï¼Œç†è§£ä¸ºåªè¯»ã€‚è€Œ <code class="highlighter-rouge">? super</code>åˆ™æ˜¯åªèƒ½å†™å…¥è€Œä¸èƒ½è¯»ã€‚</p>
      </li>
    </ol>
  </li>
  <li>
    <p>åç¨‹</p>

    <ol>
      <li>æŒ‚èµ·å‡½æ•° suspend ï¼šéé˜»å¡å¼çš„æŒ‚èµ·ã€‚ç›¸å½“äºåˆ°æ–°çº¿ç¨‹å»æ‰§è¡Œä»»åŠ¡äº†ã€‚</li>
      <li><code class="highlighter-rouge">runBlocking {}</code> æ˜¯ é˜»å¡çš„</li>
      <li><code class="highlighter-rouge">withContext {}</code>å¯ä»¥åˆ‡åˆ°æŒ‡å®šçº¿ç¨‹å»æ‰§è¡Œä»£ç ï¼Œç»“æŸåå†åˆ‡å›æ¥</li>
      <li>Channelï¼šç”¨äº2ä¸ªåç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚ä¸€èˆ¬å¯ä»¥ä½¿ç”¨ produce æ¥ä½¿ç”¨ã€‚</li>
    </ol>
  </li>
  <li>
    <p>BIO NIOï¼š</p>

    <ol>
      <li>Blocking IO / Non-blocking IO</li>
      <li>Kotlin åœ¨å¯¹â€™æµâ€™æ“ä½œæœ‰è¯­æ³•ç³– â€“ use, ä½¿ç”¨è€…ä¸ç”¨å†™é‚£ä¹ˆå¤šçš„ try catchï¼Œè€Œä¸”ä¸ç”¨ç®¡ æµçš„closeã€‚</li>
      <li>å¯¹è±¡ç¼“å­˜æ± ï¼šDefaultPoolï¼Œç¼“å­˜å¯¹è±¡ã€‚</li>
    </ol>
  </li>
  <li>
    <p>KTX æ‰©å±•åº“: https://developer.android.com/kotlin/ktx</p>

    <ol>
      <li>å¯¹ LinearLayout  éå†å­ Viewï¼š<code class="highlighter-rouge">linearlayout.foreach { }</code></li>
      <li>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åªåŒ…å«æ•°å­—ï¼š<code class="highlighter-rouge">"12343.22333.223".isDigistsOnly()</code></li>
    </ol>
  </li>
  <li>
    <p>ä¿®æ”¹ Kotlin ç±»åï¼š</p>

    <ol>
      <li><code class="highlighter-rouge">@file:JvmName("name")</code>ï¼šæŒ‡å®šç±»åã€‚</li>
      <li><code class="highlighter-rouge">@file:JvmMultifileClass</code>ï¼šå½“ç±»åå†²çªçš„æ—¶å€™ï¼Œä¼šåˆå¹¶ä¸ºä¸€ä¸ª classã€‚</li>
    </ol>
  </li>
  <li>
    <p>å…¶ä»–</p>
  </li>
</ol>

:ET