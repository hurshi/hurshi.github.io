I"”:<h4 id="æŠ€å·§1toolsnoderemove">æŠ€å·§1ï¼štools:node=â€removeâ€</h4>

<ol>
  <li>
    <p>WorkManager åˆå§‹åŒ–æ˜¯è¿™æ ·çš„</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="nc">WorkManager</span><span class="o">.</span><span class="na">initialize</span><span class="o">(</span><span class="n">context</span><span class="o">,</span><span class="n">configuration</span><span class="o">)</span>
   
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">,</span> <span class="nc">Configuration</span> <span class="n">configuration</span><span class="o">)</span> <span class="o">{</span>
   <span class="kd">synchronized</span> <span class="o">(</span><span class="n">sLock</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">sDelegatedInstance</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">sDefaultInstance</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalStateException</span><span class="o">(</span><span class="s">"WorkManager is already initialized.  Did you "</span>
            <span class="o">+</span> <span class="s">"try to initialize it manually without disabling "</span>
            <span class="o">+</span> <span class="s">"WorkManagerInitializer? See "</span>
            <span class="o">+</span> <span class="s">"WorkManager#initialize(Context, Configuration) or the class level"</span>
            <span class="o">+</span> <span class="s">"Javadoc for more information."</span><span class="o">);</span>
 <span class="o">}</span>
 <span class="o">...</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼ŒWorkManageræ˜¯ä¸èƒ½è¢«é‡å¤åˆå§‹åŒ–çš„</p>
  </li>
  <li>
    <p>é‚£ä¹ˆæœ‰æ²¡æœ‰å¯¹ AndroidManifest.xml ä¸­çš„è¿™æ®µä»£ç å­˜åœ¨ç–‘æƒ‘ï¼Ÿ</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;provider</span>
    <span class="na">android:name=</span><span class="s">"androidx.work.impl.WorkManagerInitializer"</span>
    <span class="na">android:authorities=</span><span class="s">"${applicationId}.workmanager-init"</span>
    <span class="na">android:directBootAware=</span><span class="s">"false"</span>
    <span class="na">android:exported=</span><span class="s">"false"</span>
    <span class="na">android:multiprocess=</span><span class="s">"true"</span>
    <span class="na">tools:node=</span><span class="s">"remove"</span>
    <span class="na">tools:targetApi=</span><span class="s">"n"</span> <span class="nt">/&gt;</span>

</pre></td></tr></tbody></table></code></pre></div>    </div>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">WorkManagerInitializer</span> <span class="kd">extends</span> <span class="nc">ContentProvider</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onCreate</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Initialize WorkManager with the default configuration.</span>
        <span class="nc">WorkManager</span><span class="o">.</span><span class="na">initialize</span><span class="o">(</span><span class="n">getContext</span><span class="o">(),</span> <span class="k">new</span> <span class="nc">Configuration</span><span class="o">.</span><span class="na">Builder</span><span class="o">().</span><span class="na">build</span><span class="o">());</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="o">...</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>è¯´åˆ°åº•ï¼Œè¿™ä¸ª provider ä¹Ÿæ˜¯æ‰§è¡Œåˆå§‹åŒ–ä½œç”¨çš„ï¼Œé‚£ä¹ˆåœ¨ AndroidManifest.xml  ä¸­å†™è¿™ä¸ª provider ä¸æ˜¯é‡å¤åˆå§‹åŒ–äº†ä¹ˆï¼Ÿ</p>
  </li>
  <li>
    <p>è¿™é‡Œçš„ç§˜è¯€åœ¨äº  tools:node=â€removeâ€ æ·»åŠ è¿™ä¸ªæ ‡ç­¾æ„å‘³ç€å°†ä¸ä¼šå‡ºç°åœ¨ Merged Menifest ä¸­ï¼Œæ‹“å±•ä¸€ä¸‹ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥åˆ é™¤ç¬¬ä¸‰æ–¹SDKä¸­ç”³æ˜çš„æƒé™ï¼Œæ¯”å¦‚</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.INTERNET"</span> <span class="na">tools:node=</span><span class="s">"remove"</span><span class="nt">/&gt;</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>å‚è€ƒè‡ª</p>
    <ol>
      <li><a href="https://juejin.im/entry/5c0f10496fb9a04a102f1f50">æ˜é‡‘ tools:node=â€removeâ€</a></li>
      <li><a href="https://developer.android.com/studio/build/manifest-merge">å®˜æ–¹æ–‡æ¡£</a></li>
    </ol>
  </li>
</ol>

<h4 id="æŠ€å·§2å¼€å‘ç¬¬ä¸‰æ–¹ç±»åº“è‡ªå·±åˆå§‹åŒ–">æŠ€å·§2ï¼šå¼€å‘ç¬¬ä¸‰æ–¹ç±»åº“è‡ªå·±åˆå§‹åŒ–</h4>

<ol>
  <li>çŸ¥è¯†æ™®åŠï¼šContentProvider æ˜¯åœ¨ Application ä¹‹å‰å°±å»åˆå§‹åŒ–çš„ã€‚</li>
  <li>èƒ½å¹²å•¥äº‹ï¼šåˆ©ç”¨è¿™ç‚¹å¯ä»¥å¹²å¾ˆå¤šäº‹ï¼Œå°¤å…¶æ˜¯ SDK å¼€å‘ï¼Œå¾ˆå¤šæ—¶å€™éƒ½è¦åœ¨æ–‡æ¡£ä¸­è¦æ±‚å¼€å‘è€…åœ¨ Application åˆå§‹åŒ–ï¼Œè¿™æ—¶å€™å®Œå…¨å¯ä»¥å®šä¹‰ä¸€ä¸ª ContentProvider è‡ªå·±å»åˆå§‹åŒ–ï¼Œå¯¹æ¥å…¥çš„<strong>å¼€å‘è€…æ— æ„Ÿ</strong>äº†ã€‚</li>
  <li>æœ‰æ”»å°±æœ‰é˜²ï¼šå¯¹ä»˜å®ƒå°±ç”¨ä¸Šé¢çš„ <strong>æŠ€å·§1</strong>ã€‚</li>
</ol>

<h4 id="æŠ€å·§3messageobtain">æŠ€å·§3ï¼šMessage.obtain()</h4>

<ol>
  <li>
    <p>ä½¿ç”¨ <code class="highlighter-rouge">Message.obtain()</code> æ¥<strong>å¤ç”¨</strong> Message å¯¹è±¡ã€‚</p>
  </li>
  <li>
    <p>ç®€å•æºç ï¼š</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Message</span> <span class="kd">implements</span> <span class="nc">Parcelable</span> <span class="o">{</span>
   
    <span class="nc">Message</span> <span class="n">next</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">Message</span> <span class="n">sPool</span><span class="o">;</span>
   
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Message</span> <span class="nf">obtain</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">synchronized</span> <span class="o">(</span><span class="n">sPoolSync</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">sPool</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">Message</span> <span class="n">m</span> <span class="o">=</span> <span class="n">sPool</span><span class="o">;</span>
                <span class="n">sPool</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
                <span class="n">m</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
                <span class="n">m</span><span class="o">.</span><span class="na">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="c1">// clear in-use flag</span>
                <span class="n">sPoolSize</span><span class="o">--;</span>
                <span class="k">return</span> <span class="n">m</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Message</span><span class="o">();</span>
    <span class="o">}</span>
   
    <span class="c1">//å›æ”¶Message</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">recycle</span><span class="o">()</span> <span class="o">{</span>
        <span class="o">...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<h4 id="æŠ€å·§4-tint-ç€è‰²å™¨">æŠ€å·§4: Tint ç€è‰²å™¨</h4>

<p>ä¸º ImageView æ·»åŠ å±æ€§<code class="highlighter-rouge">andorid:tint="@color/colorAccent"</code>å³å¯æ”¹å˜ ImageView ä¸Šå›¾ç‰‡çš„æ˜¾ç¤ºé¢œè‰²ã€‚</p>

<h4 id="æŠ€å·§5-å¤ç”¨å›¾ç‰‡">æŠ€å·§5: å¤ç”¨å›¾ç‰‡</h4>

<ul>
  <li>
    <p>ä¸€å¼ å›¾ç‰‡æ˜æ˜æ—‹è½¬ä¸‹å°±æ»¡è¶³è¦æ±‚äº†ï¼Œå°±ä¸è¦å†åˆ›å»ºå¦ä¸€å¼ äº†ï¼š</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;rotate</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">android:drawable=</span><span class="s">"@mipmap/ic_launcher"</span>
    <span class="na">android:fromDegrees=</span><span class="s">"90"</span>
    <span class="na">android:toDegrees=</span><span class="s">"90"</span> <span class="nt">/&gt;</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>å‚è€ƒï¼š<a href="https://blog.csdn.net/axi295309066/article/details/52658564">Androidæ€§èƒ½ä¼˜åŒ–å…¸èŒƒ - ç¬¬6å­£</a></p>
  </li>
</ul>

<h4 id="æŠ€å·§6-ç§»é™¤æ— ç”¨-string">æŠ€å·§6: ç§»é™¤æ— ç”¨ String</h4>

<ul>
  <li>
    <p><code class="highlighter-rouge">appcompat-v7</code> ç­‰ä¸‰æ–¹åº“ä¸­åŒ…å«å¤§é‡çš„å›½é™…åŒ–èµ„æºï¼Œå¯ä»¥é€‰æ‹©æ€§çš„ç§»é™¤æ‰ï¼š</p>

    <div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="n">defaultConfig</span> <span class="o">{</span>
	<span class="o">...</span>
	<span class="n">resConfigs</span><span class="o">(</span><span class="s1">'zh-rCN'</span><span class="o">)</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>å‚è€ƒï¼š<a href="https://www.jianshu.com/p/147b54f53e10">Android æ€§èƒ½ä¼˜åŒ–ç³»åˆ—ä¸€ :APKæè‡´ä¼˜åŒ–</a>    <a href="https://www.jianshu.com/p/8796ad90fcc6">ä½¿ç”¨resConfigså»é™¤æ— ç”¨è¯­è¨€èµ„æº</a></p>
  </li>
</ul>

<h4 id="æŠ€å·§7-android-ç³»ç»Ÿæ˜¯å¦‚ä½•å®‰è£…-so-æ–‡ä»¶çš„">æŠ€å·§7: Android ç³»ç»Ÿæ˜¯å¦‚ä½•å®‰è£… so æ–‡ä»¶çš„ï¼Ÿ</h4>

<ol>
  <li>
    <p>æŸ¥çœ‹æ‰‹æœºæ”¯æŒçš„æ¶æ„ï¼š</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>âœ— adb shell getprop ro.product.cpu.abilist
âœ arm64-v8a,armeabi-v7a,armeabi
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>APK åœ¨å®‰è£…çš„æ—¶å€™ï¼Œä¼šæŒ‰ç…§ä¸Šé¢çš„é¡ºåºæŸ¥çœ‹ apk ä¸­æ˜¯å¦æœ‰å¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ°çš„è¯å°±å°†è¯¥æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ so æ–‡ä»¶æ‹·è´åˆ° /data/app/packageName/lib/ ç›®å½•ä¸‹ï¼Œç„¶åé©¬ä¸Šå°±åœæ­¢æŸ¥æ‰¾äº†ã€‚</p>
  </li>
</ol>

<h4 id="æŠ€å·§8-å‡å°‘å†·å¯åŠ¨">æŠ€å·§8: å‡å°‘å†·å¯åŠ¨</h4>

<ol>
  <li>
    <p>ç”¨æˆ·ç‚¹å‡»è¿”å›é”®ï¼Œé»˜è®¤å°±é€€å‡ºåº”ç”¨äº†ï¼Œä¸‹æ¬¡å†ç‚¹å‡»çš„æ—¶å€™å°±æ˜¯å†·å¯åŠ¨ã€‚</p>
  </li>
  <li>
    <p>åœ¨ç”¨æˆ·ç‚¹è¿”å›çš„æ—¶å€™ï¼Œä½¿åº”ç”¨è¿›å…¥åå°ï¼Œè€Œä¸æ˜¯é€€å‡ºåº”ç”¨ï¼š</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onBackPressed</span><span class="o">(){</span>
	<span class="n">moveTaskToBack</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>å‚è€ƒï¼š<a href="https://mp.weixin.qq.com/s/a8076txSPIUqGAbe30uEug">5åˆ†é’Ÿæ•™ä½ æ‰“é€ ä¸€ä¸ªç§’å¼€çš„ Android App</a></p>
  </li>
</ol>

<h4 id="æŠ€å·§9å¦‚ä½•è·å¾—-bitmap-åœ¨å†…å­˜ä¸­çš„å¤§å°">æŠ€å·§9ï¼šå¦‚ä½•è·å¾— bitmap åœ¨å†…å­˜ä¸­çš„å¤§å°</h4>

<ol>
  <li>
    <p>ç³»ç»Ÿæ–¹æ³•ï¼š</p>

    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">final</span> <span class="kt">int</span> <span class="nf">getByteCount</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nf">getRowBytes</span><span class="o">()</span> <span class="o">*</span> <span class="n">getHeight</span><span class="o">();</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>å‚è€ƒï¼š<a href="https://mp.weixin.qq.com/s?__biz=MzA3NTYzODYzMg==&amp;mid=403263974&amp;idx=1&amp;sn=b0315addbc47f3c38e65d9c633a12cd6&amp;scene=0&amp;key=41ecb04b051110037b72d05bba1495f596e848534fc51afe877d63329a16dc24dc1d3606aaaba3745a05bfdb8c624a74&amp;ascene=0&amp;uin=Mjc3OTU3Nzk1&amp;devicetype=iMac+MacBookPro10%2C1+OSX+OSX+10.10.5+build%2814F27%29&amp;version=11020201&amp;pass_ticket=kK4%2F6316QveG8O0vFtthPfBeKkNjyaL4HapsUAokHL5mUKCgI5hKTIKMc3D8uyqk">Android å¼€å‘ç»•ä¸è¿‡çš„å‘ï¼šä½ çš„ Bitmap ç©¶ç«Ÿå å¤šå¤§å†…å­˜ï¼Ÿ</a></p>
  </li>
</ol>
:ET