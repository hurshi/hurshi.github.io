---
layout: post
title: View 的绘制
catalog: false
tags:
    - Android
---

* onMeasure 方法最后会把数据通过 setMeasuredDimension() 方法将测量好的数据保存。
* onMeasure 算出来的 size 需要经过 resolveSize() 过滤一遍以符合 parent 的要求。
* MeasureSpec.makeMeasureSpec / MeasureSpec.getMode /MeasureSpec.getSize 用来处理 measureSpec的值
* 



### onMeasure 流程

1. 调用每个子 View 的 measure()  方法，让子 View 自我测量。
2. 根据子 View 给出的尺寸，得出子 View 的位置，并把它们的位置和尺寸保存下来。
3. 根据子 View 的位置和尺寸，计算自己的尺寸，并调用 setMeasuredDimension 保存下来



### Layout

1. layout() 对本 View 进行布局
2. onLayout() 对子 View 进行布局